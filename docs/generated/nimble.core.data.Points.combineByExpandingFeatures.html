
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Points.combineByExpandingFeatures &#8212; Nimble Alpha documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Points.copy" href="nimble.core.data.Points.copy.html" />
    <link rel="prev" title="Points.calculate" href="nimble.core.data.Points.calculate.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Nimble</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/cleaning_data.html">Cleaning Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/supervised_learning.html">Supervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/exploring_data.html">Exploring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/unsupervised_learning.html">Unsupervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/neural_networks.html">Neural Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/merging_and_tidying_data.html">Merging and Tidying Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/additional_functionality.html">Additional Functionality</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasets.html">Example Datasets</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Nimble API Documentation</a><ul>
  <li><a href="nimble.core.data.Points.html">Points</a><ul>
      <li>Previous: <a href="nimble.core.data.Points.calculate.html" title="previous chapter">Points.calculate</a></li>
      <li>Next: <a href="nimble.core.data.Points.copy.html" title="next chapter">Points.copy</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="points-combinebyexpandingfeatures">
<h1>Points.combineByExpandingFeatures<a class="headerlink" href="#points-combinebyexpandingfeatures" title="Permalink to this headline">¶</a></h1>
<dl class="py method">
<dt id="nimble.core.data.Points.combineByExpandingFeatures">
<code class="sig-prename descclassname"><span class="pre">Points.</span></code><code class="sig-name descname"><span class="pre">combineByExpandingFeatures</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">featureWithFeatureNames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">featuresWithValues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modifyDuplicateFeatureNames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useLog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#nimble.core.data.Points.combineByExpandingFeatures" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine similar points based on a differentiating feature.</p>
<p>Combine points that share common features, but are currently
separate points due to a feature, <code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code>,
that is categorizing the values in the remaining unshared
features, <code class="docutils literal notranslate"><span class="pre">featuresWithValues</span></code>. The points can be combined to
a single point by instead representing the categorization of the
unshared values as different features of the same point. The
corresponding featureName/value pairs from
<code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code> and <code class="docutils literal notranslate"><span class="pre">featuresWithValues</span></code> in each
point will become the values for the expanded features for the
combined points. If a combined point lacks a featureName/value
pair for any given feature(s), np.nan will be assigned as the
value(s) at that feature(s). The resulting featureNames depends
on the number of features with values. For a single feature with
values, the new feature names are the unique values in
<code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code>. However, for two or more features
with values, the unique values in <code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code> no
longer cover all combinations so those values are combined with
the names of the features with values using an underscore. The
combined point name will be assigned the point name of the first
instance of that point, if point names are present.</p>
<p>An object containing m features and n points with k unique
point combinations amongst shared features, i unique values in
<code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code> and j <code class="docutils literal notranslate"><span class="pre">featuresWithValues</span></code> will
result in an object with k points and (m - (1 + j) + (i * j))
features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>featureWithFeatureNames</strong> (<em>identifier</em>) – The name or index of the feature containing the values that
will become the names of the features in the combined
points.</p></li>
<li><p><strong>featuresWithValues</strong> (<em>identifier</em><em>, </em><em>list of identifiers</em>) – The names and/or indices of the features of values that
correspond to the values in <code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code>.</p></li>
<li><p><strong>modifyDuplicateFeatureNames</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Allow modifications featureName strings if two or more unique
values in <code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code> return the same string.
Duplicate strings will have the type of the feature appended to the
string wrapped in parenthesis. For example, if 1 and ‘1’ are both
in <code class="docutils literal notranslate"><span class="pre">featureWithFeatureNames</span></code>, the featureNames will become
‘1(int)’ and ‘1(str)’, respectively.</p></li>
<li><p><strong>useLog</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – Local control for whether to send object creation to the
logger. If None (default), use the value as specified in the
“logger” “enabledByDefault” configuration option. If True,
send to the logger regardless of the global option. If
False, do <strong>NOT</strong> send to the logger, regardless of the
global option.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>A visual representation of the Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sprinters</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">combineByExpandingFeatures</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>

     <span class="n">sprinters</span> <span class="p">(</span><span class="n">before</span><span class="p">)</span>                 <span class="n">sprinters</span> <span class="p">(</span><span class="n">after</span><span class="p">)</span>
<span class="o">+-----------+------+-------+</span>    <span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">athlete</span>   <span class="o">|</span> <span class="n">dist</span> <span class="o">|</span> <span class="n">time</span>  <span class="o">|</span>    <span class="o">|</span> <span class="n">athlete</span>   <span class="o">|</span> <span class="mi">100</span><span class="n">m</span> <span class="o">|</span> <span class="mi">200</span><span class="n">m</span>  <span class="o">|</span>
<span class="o">+-----------+------+-------+</span>    <span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">Bolt</span>      <span class="o">|</span> <span class="mi">100</span><span class="n">m</span> <span class="o">|</span> <span class="mf">9.81</span>  <span class="o">|</span>    <span class="o">|</span> <span class="n">Bolt</span>      <span class="o">|</span> <span class="mf">9.81</span> <span class="o">|</span> <span class="mf">19.78</span> <span class="o">|</span>
<span class="o">+-----------+------+-------+</span> <span class="o">-&gt;</span> <span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">Bolt</span>      <span class="o">|</span> <span class="mi">200</span><span class="n">m</span> <span class="o">|</span> <span class="mf">19.78</span> <span class="o">|</span>    <span class="o">|</span> <span class="n">Gatlin</span>    <span class="o">|</span> <span class="mf">9.89</span> <span class="o">|</span>       <span class="o">|</span>
<span class="o">+-----------+------+-------+</span>    <span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">Gatlin</span>    <span class="o">|</span> <span class="mi">100</span><span class="n">m</span> <span class="o">|</span> <span class="mf">9.89</span>  <span class="o">|</span>    <span class="o">|</span> <span class="n">de</span> <span class="n">Grasse</span> <span class="o">|</span> <span class="mf">9.91</span> <span class="o">|</span> <span class="mf">20.02</span> <span class="o">|</span>
<span class="o">+-----------+------+-------+</span>    <span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">de</span> <span class="n">Grasse</span> <span class="o">|</span> <span class="mi">200</span><span class="n">m</span> <span class="o">|</span> <span class="mf">20.02</span> <span class="o">|</span>
<span class="o">+-----------+------+-------+</span>
<span class="o">|</span> <span class="n">de</span> <span class="n">Grasse</span> <span class="o">|</span> <span class="mi">100</span><span class="n">m</span> <span class="o">|</span> <span class="mf">9.91</span>  <span class="o">|</span>
<span class="o">+-----------+------+-------+</span>
</pre></div>
</div>
<p>This function was inspired by the spread function from the tidyr
library created by Hadley Wickham <a class="footnote-reference brackets" href="#id2" id="id1">1</a> in the R programming
language.</p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Wickham, H. (2014). Tidy Data. Journal of Statistical
Software, 59(10), 1 - 23.
doi:http://dx.doi.org/10.18637/jss.v059.i10</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="nimble.core.data.Points.splitByCollapsingFeatures.html#nimble.core.data.Points.splitByCollapsingFeatures" title="nimble.core.data.Points.splitByCollapsingFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">splitByCollapsingFeatures</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;Bolt&#39;</span><span class="p">,</span> <span class="s1">&#39;100m&#39;</span><span class="p">,</span> <span class="mf">9.81</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="s1">&#39;Bolt&#39;</span><span class="p">,</span> <span class="s1">&#39;200m&#39;</span><span class="p">,</span> <span class="mf">19.78</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="s1">&#39;Gatlin&#39;</span><span class="p">,</span> <span class="s1">&#39;100m&#39;</span><span class="p">,</span> <span class="mf">9.89</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="s1">&#39;de Grasse&#39;</span><span class="p">,</span> <span class="s1">&#39;200m&#39;</span><span class="p">,</span> <span class="mf">20.02</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="s1">&#39;de Grasse&#39;</span><span class="p">,</span> <span class="s1">&#39;100m&#39;</span><span class="p">,</span> <span class="mf">9.91</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;athlete&#39;</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sprinters</span> <span class="o">=</span> <span class="n">nimble</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">featureNames</span><span class="o">=</span><span class="n">fts</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sprinters</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">combineByExpandingFeatures</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sprinters</span>
<span class="go">&lt;DataFrame 3pt x 3ft</span>
<span class="go">     &#39;athlete&#39; &#39;100m&#39; &#39;200m&#39;</span>
<span class="go">   ┌────────────────────────</span>
<span class="go"> 0 │    Bolt   9.810  19.780</span>
<span class="go"> 1 │   Gatlin  9.890</span>
<span class="go"> 2 │ de Grasse 9.910  20.020</span>
<span class="go">&gt;</span>
</pre></div>
</div>
<p>Keywords: 
spread, cast, pivot, pivot_longer, unfold, tidy, tidyr</p>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2022, Spark Wave.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs/generated/nimble.core.data.Points.combineByExpandingFeatures.rst"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>