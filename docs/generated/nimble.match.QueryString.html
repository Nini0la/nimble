
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>QueryString &#8212; Nimble Alpha documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="nimble.random" href="nimble.random.html" />
    <link rel="prev" title="nimble.match.zero" href="nimble.match.zero.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Nimble</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples/cleaning_data.html">Cleaning Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/supervised_learning.html">Supervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/exploring_data.html">Exploring Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/unsupervised_learning.html">Unsupervised Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/neural_networks.html">Neural Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/merging_and_tidying_data.html">Merging and Tidying Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/additional_functionality.html">Additional Functionality</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datasets.html">Example Datasets</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Nimble API Documentation</a><ul>
  <li><a href="nimble.match.html">nimble.match</a><ul>
      <li>Previous: <a href="nimble.match.zero.html" title="previous chapter">nimble.match.zero</a></li>
      <li>Next: <a href="nimble.random.html" title="next chapter">nimble.random</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="querystring">
<h1>QueryString<a class="headerlink" href="#querystring" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="nimble.match.QueryString">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">nimble.match.</span></code><code class="sig-name descname"><span class="pre">QueryString</span></code><a class="headerlink" href="#nimble.match.QueryString" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable object for filtering in Nimble data objects.</p>
<p>Query strings are used when an object method iterates through the
elements, points, or features of the object as a quick method to
define a boolean function. Since queries can be elementwise or
operate over points and features, the strings will differ sligtly,
but all follow the same rules. All queries require an operator.
Valid operators are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">==</span>  <span class="n">equal</span> <span class="n">to</span>
<span class="o">!=</span>  <span class="ow">not</span> <span class="n">equal</span> <span class="n">to</span>
<span class="o">&gt;=</span>  <span class="n">greater</span> <span class="n">than</span> <span class="ow">or</span> <span class="n">equal</span> <span class="n">to</span>
<span class="o">&gt;</span>   <span class="n">greater</span> <span class="n">than</span>
<span class="o">&lt;=</span>  <span class="n">less</span> <span class="n">than</span> <span class="ow">or</span> <span class="n">equal</span> <span class="n">to</span>
<span class="o">&lt;</span>   <span class="n">less</span> <span class="n">than</span>
<span class="ow">is</span>  <span class="n">special</span> <span class="n">value</span>
</pre></div>
</div>
<p>For the “is” operator, the following value can be a function name
from the nimble.match module (i.e. missing, negative, zero, etc.) or
“True”, “False”, or “None”.</p>
<p>For an elementwise query string, only an operator and value are
required. The “is” operator must be separated from the value by a
single space, but the space is optional for the other operators.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;==3&quot;</span>         <span class="n">elements</span> <span class="n">equal</span> <span class="n">to</span> <span class="mi">3</span>
<span class="s2">&quot;&gt; 10&quot;</span>        <span class="n">elements</span> <span class="n">greater</span> <span class="n">than</span> <span class="mi">10</span>
<span class="s2">&quot;is missing&quot;</span>  <span class="n">elements</span> <span class="n">that</span> <span class="n">are</span> <span class="n">missing</span> <span class="n">values</span>
</pre></div>
</div>
<p>For a points or features query, the point or feature name must be
included prior to the operator. The operator must be separated from
the name and the value by single space characters.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;pt3 &lt;= 1&quot;</span>     <span class="n">elements</span> <span class="ow">in</span> <span class="n">pt3</span> <span class="n">that</span> <span class="n">are</span> <span class="n">less</span> <span class="n">than</span> <span class="ow">or</span> <span class="n">equal</span> <span class="n">to</span> <span class="mi">1</span>
<span class="s2">&quot;ft1 == True&quot;</span>  <span class="n">elements</span> <span class="ow">in</span> <span class="n">ft1</span> <span class="n">that</span> <span class="n">are</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">the</span> <span class="n">string</span> <span class="s2">&quot;True&quot;</span>
<span class="s2">&quot;ft2 is False&quot;</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">ft2</span> <span class="n">that</span> <span class="n">are</span> <span class="n">the</span> <span class="n">python</span> <span class="kc">False</span> <span class="nb">object</span>
</pre></div>
</div>
<p>The Examples below show how query strings interact with Nimble data
object methods.</p>
<p>Note: Query strings do not work for every situation or sometimes
cannot be parsed because another part of the string also contains an
operator. All methods that accept query strings also accept a custom
function that can handle more complex cases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – The string to parse. See above for string requirements.</p></li>
<li><p><strong>elementQuery</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.10)"><em>None</em></a>) – When set to True, identifies that the query is intended to be
elementwise. When set to False, identifies that the query is
specific to a point or feature. This can help eliminate
ambiguity if the string contains multiple operators.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lst</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>
<span class="gp">... </span>       <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ft1&#39;</span><span class="p">,</span> <span class="s1">&#39;ft2&#39;</span><span class="p">,</span> <span class="s1">&#39;ft3&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toQuery</span> <span class="o">=</span> <span class="n">nimble</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">lst</span><span class="p">,</span> <span class="n">featureNames</span><span class="o">=</span><span class="n">fnames</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">missing</span> <span class="o">=</span> <span class="n">toQuery</span><span class="o">.</span><span class="n">matchingElements</span><span class="p">(</span><span class="s2">&quot;is nonZero&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">missing</span>
<span class="go">&lt;DataFrame 4pt x 3ft</span>
<span class="go">     &#39;ft1&#39; &#39;ft2&#39; &#39;ft3&#39;</span>
<span class="go">   ┌──────────────────</span>
<span class="go"> 0 │ False  True  True</span>
<span class="go"> 1 │  True  True  True</span>
<span class="go"> 2 │  True  True  True</span>
<span class="go"> 3 │  True False  True</span>
<span class="go">&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toQuery</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;ft3 == -1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toQuery</span>
<span class="go">&lt;DataFrame 2pt x 3ft</span>
<span class="go">     &#39;ft1&#39; &#39;ft2&#39; &#39;ft3&#39;</span>
<span class="go">   ┌──────────────────</span>
<span class="go"> 0 │   -1   True 2.000</span>
<span class="go"> 1 │   -1  False 3.000</span>
<span class="go">&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2022, Spark Wave.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/docs/generated/nimble.match.QueryString.rst"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>